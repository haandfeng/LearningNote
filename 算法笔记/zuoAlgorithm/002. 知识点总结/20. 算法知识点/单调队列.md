# 单调队列 (Melatony Queue)
# 单调双端队列
---

ref: [[24 窗口内最大值或最小值的更新结构]]

队头是我们想要的答案, 大多数情况下只保存下标(方便判断元素个数):    
单调递增队列:  要求的最小值在头部  
单调递减队列:  要求的最大值在头部  

“如果一个选手比你小还比你强，你就可以退役了。”——单调队列的原理
比你小: 后出现的  
比你强: 比你更是极值  


## 定义

Melatony Queue(单调队列/ 单调双端队列) : 一个普通的有头有尾的队列, 它所有的元素都是单调递增或者单调递减的, 需要对它这个头和尾同时进行操作。

![[Pasted image 20220409105436.png]]

实现是使用双端队列, **队列中存入的元素为数组索引**, 队的头部元素为窗口的最大(最小)元素.

**队头删除不符合有效窗口的元素, 队尾删除不符合最值条件的候选元素**




### 推荐使用的步骤: 

去尾操作: 队尾元素出队列  
   当有新元素等待入队, 需要从队尾部开始, 删除不符合队列单调性的元素

删头操作:  队头元素出队列  
   判断头部元素是否在待求解窗口内, 如果不在, 将它删除队列

取解操作:  经过上面两个操作, 取出**队列头部元素**, 就是**当前窗口的极值**



### 题目

[[滑动窗口最大值]]  
[[整形数组中子数组最大值减最小值达标的子数组个数]]  
[[加油站的良好出发点问题]]  
货币数组组成面值的最少货币数]]  





