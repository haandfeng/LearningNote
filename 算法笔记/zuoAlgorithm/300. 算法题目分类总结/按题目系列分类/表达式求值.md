# 表达式计算系列问题

---
https://oi.wiki/misc/expression/

表达式求值要解决的问题一般是输入一个字符串表示的表达式，要求输出它的值。当然也有变种比如表达式中是否包含括号，指数运算，含多少变量，判断多个表达式是否等价，等等。

一般的思路分为两种，一种递归一种非递归。

递归的方法是把表达式拆分成如图所示的表达式树，然后在树结构上自底向上进行运算。

![[Pasted image 20220721000516.png]]
表达式树上进行 树的遍历 可以得到不同类型的表达式。

- 前序遍历对应前缀表达式（波兰式）
- 中序遍历对应中缀表达式
- 后序遍历对应后缀表达式（逆波兰式）


### 经典表达式计算递归结构

构造递归函数f(i): 返回两个值:  
 1) 从i往回倒合适的位置的结果返回  
     a. 整个字符串的结尾停  
     b. 遇到右括号停  
 2) 算到哪一步停的, 停住的位置返回

以后再遇到这种优先级结合问题, 就用这个主方法改, 几乎都是一样的。
一定要记住返回答案的同时, 返回它主过程算到哪里了, 后面接着来就行了。

有效性检查--抛出异常解决

ref:  [[没有小括号的表达式结果计算]]


#### 题目
[[只有加减乘除的表达式计算]]   

224.[[基本计算器]]  [H]

[[数组中添加加减乘除运算符得到指定值的所有方法]]  

[[逆波兰表达式求值]]  

227.[[基本计算器 II]] [中等]   
https://leetcode-cn.com/problems/basic-calculator-ii

772.[[基本计算器 III]]  [困难]   
https://leetcode-cn.com/problems/basic-calculator-iii/

394.[[字符串解码]] [M]
https://leetcode-cn.com/problems/decode-string/

726.[[原子的数量]]  [H]
https://leetcode-cn.com/problems/number-of-atoms/



